source: !csvSource
    input: !fixedInput |
        1,M,John,,Doe
        2,F,Janet,,Doe
        3,M,Alexio,,Flako
    fields: [
        { index: 0, name: id, format: !integer },
        { index: 2, name: firstName, format: !string },
        { index: 4,  name: lastName, format: !string },
        { index: 1,  name: gender,  format: !string }
    ]

matcher: !script [gender == "M"]

transformer: !script |
  ({ID: id, FIRST_NAME: firstName, LAST_NAME: lastName, GENDER: gender})

destination: !databaseDestination
    tableName: PERSON
    fieldNames: [ID, FIRST_NAME, LAST_NAME, GENDER]
    batchSize: 1
    commitOnBatch: true
    dataSource: !basicDataSource
        driverClassName: org.hsqldb.jdbc.JDBCDataSource
        url: jdbc:hsqldb:mem:shutdown
        username: sa
        password:
